(()=>{"use strict";var e={102:function(e,t,i){var o=this&&this.__runInitializers||function(e,t,i){for(var o=arguments.length>2,r=0;r<t.length;r++)i=o?t[r].call(e,i):t[r].call(e);return o?i:void 0},r=this&&this.__esDecorate||function(e,t,i,o,r,n){function s(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var c,a=o.kind,u="getter"===a?"get":"setter"===a?"set":"value",l=!t&&e?o.static?e:e.prototype:null,d=t||(l?Object.getOwnPropertyDescriptor(l,o.name):{}),p=!1,h=i.length-1;h>=0;h--){var m={};for(var f in o)m[f]="access"===f?{}:o[f];for(var f in o.access)m.access[f]=o.access[f];m.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");n.push(s(e||null))};var v=(0,i[h])("accessor"===a?{get:d.get,set:d.set}:d[u],m);if("accessor"===a){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(c=s(v.get))&&(d.get=c),(c=s(v.set))&&(d.set=c),(c=s(v.init))&&r.unshift(c)}else(c=s(v))&&("field"===a?r.unshift(c):d[u]=c)}l&&Object.defineProperty(l,o.name,d),p=!0};Object.defineProperty(t,"__esModule",{value:!0}),t.getRemoteSourceActions=async function(e,t){const i=e.getRemoteProviders(),o=[];for(const e of i){const i=await(e.getRemoteSourceActions?.(t));i?.length&&o.push(...i)}return o},t.pickRemoteSource=async function(e,t={}){const i=n.window.createQuickPick();if(i.title=t.title,t.providerName){const i=e.getRemoteProviders().filter(e=>e.name===t.providerName)[0];if(i)return await u(i,t)}const o=e.getRemoteProviders().map(e=>({label:(e.icon?`$(${e.icon}) `:"")+(t.providerLabel?t.providerLabel(e):e.name),alwaysShow:!0,provider:e})),r=[];if(t.showRecentSources)for(const{provider:e}of o){const t=(await(e.getRecentRemoteSources?.())??[]).map(e=>({...e,label:(e.icon?`$(${e.icon}) `:"")+e.name,url:"string"==typeof e.url?e.url:e.url[0]}));r.push(...t)}const s=[{kind:n.QuickPickItemKind.Separator,label:n.l10n.t("remote sources")},...o,{kind:n.QuickPickItemKind.Separator,label:n.l10n.t("recently opened")},...r.sort((e,t)=>t.timestamp-e.timestamp)];i.placeholder=t.placeholder??(0===o.length?n.l10n.t("Provide repository URL"):n.l10n.t("Provide repository URL or pick a repository source."));const a=e=>{if(e){const o=("string"==typeof t.urlLabel?t.urlLabel:t.urlLabel?.(e))??n.l10n.t("URL");i.items=[{label:o,description:e,alwaysShow:!0,url:e},...s]}else i.items=s};i.onDidChangeValue(a),a();const l=await c(i);if(l){if(l.url)return l.url;if(l.provider)return await u(l.provider,t)}};const n=i(398),s=i(399);async function c(e){const t=[],i=await new Promise(i=>{t.push(e.onDidAccept(()=>i(e.selectedItems[0])),e.onDidHide(()=>i(void 0))),e.show()});return e.hide(),t.forEach(e=>e.dispose()),i}let a=(()=>{let e,t,i=[];return class{static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;e=[(0,s.debounce)(300)],t=[s.throttle],r(this,null,e,{kind:"method",name:"onDidChangeValue",static:!1,private:!1,access:{has:e=>"onDidChangeValue"in e,get:e=>e.onDidChangeValue},metadata:o},null,i),r(this,null,t,{kind:"method",name:"query",static:!1,private:!1,access:{has:e=>"query"in e,get:e=>e.query},metadata:o},null,i),o&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})}provider=o(this,i);disposables=[];isDisposed=!1;quickpick;constructor(e){this.provider=e}dispose(){this.disposables.forEach(e=>e.dispose()),this.disposables=[],this.quickpick=void 0,this.isDisposed=!0}ensureQuickPick(){this.quickpick||(this.quickpick=n.window.createQuickPick(),this.disposables.push(this.quickpick),this.quickpick.ignoreFocusOut=!0,this.disposables.push(this.quickpick.onDidHide(()=>this.dispose())),this.provider.supportsQuery?(this.quickpick.placeholder=this.provider.placeholder??n.l10n.t("Repository name (type to search)"),this.disposables.push(this.quickpick.onDidChangeValue(this.onDidChangeValue,this))):this.quickpick.placeholder=this.provider.placeholder??n.l10n.t("Repository name"))}onDidChangeValue(){this.query()}async query(){try{if(this.isDisposed)return;this.ensureQuickPick(),this.quickpick.busy=!0,this.quickpick.show();const e=await this.provider.getRemoteSources(this.quickpick?.value)||[];if(this.isDisposed)return;0===e.length?this.quickpick.items=[{label:n.l10n.t("No remote repositories found."),alwaysShow:!0}]:this.quickpick.items=e.map(e=>({label:e.icon?`$(${e.icon}) ${e.name}`:e.name,description:e.description||("string"==typeof e.url?e.url:e.url[0]),detail:e.detail,remoteSource:e,alwaysShow:!0}))}catch(e){this.quickpick.items=[{label:n.l10n.t("{0} Error: {1}","$(error)",e.message),alwaysShow:!0}],console.error(e)}finally{this.isDisposed||(this.quickpick.busy=!1)}}async pick(){if(await this.query(),this.isDisposed)return;const e=await c(this.quickpick);return e?.remoteSource}}})();async function u(e,t={}){const i=new a(e),o=await i.pick();let r;if(i.dispose(),o&&("string"==typeof o.url?r=o.url:o.url.length>0&&(r=await n.window.showQuickPick(o.url,{ignoreFocusOut:!0,placeHolder:n.l10n.t("Choose a URL to clone from.")}))),!r||!t.branch)return r;if(!e.getBranches)return{url:r};const s=await e.getBranches(r);if(!s)return{url:r};const c=await n.window.showQuickPick(s,{placeHolder:n.l10n.t("Branch name")});return c?{url:r,branch:c}:{url:r}}},199:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ApiImpl=void 0,t.registerAPICommands=function(e){const t=[];return t.push(o.commands.registerCommand("git-base.api.getRemoteSources",t=>{if(e.model)return(0,r.pickRemoteSource)(e.model,t)})),o.Disposable.from(...t)};const o=i(398),r=i(102);t.ApiImpl=class{_model;constructor(e){this._model=e}pickRemoteSource(e){return(0,r.pickRemoteSource)(this._model,e)}getRemoteSourceActions(e){return(0,r.getRemoteSourceActions)(this._model,e)}registerRemoteSourceProvider(e){return this._model.registerRemoteSourceProvider(e)}}},398:e=>{e.exports=require("vscode")},399:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0,t.debounce=function(e){return r((t,i)=>{const o=`$debounce$${i}`;return function(...i){clearTimeout(this[o]),this[o]=setTimeout(()=>t.apply(this,i),e)}})};const o=i(937);function r(e){return function(t,i){if("method"!==i.kind)throw new Error("not supported");return e(t,i.name.toString())}}t.throttle=r(function(e,t){const i=`$throttle$current$${t}`,r=`$throttle$next$${t}`,n=function(...t){if(this[r])return this[r];if(this[i])return this[r]=(0,o.done)(this[i]).then(()=>(this[r]=void 0,n.apply(this,t))),this[r];this[i]=e.apply(this,t);const s=()=>this[i]=void 0;return(0,o.done)(this[i]).then(s,s),this[i]};return n})},672:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;const o=i(398),r=i(937);t.Model=class{remoteSourceProviders=new Set;_onDidAddRemoteSourceProvider=new o.EventEmitter;onDidAddRemoteSourceProvider=this._onDidAddRemoteSourceProvider.event;_onDidRemoveRemoteSourceProvider=new o.EventEmitter;onDidRemoveRemoteSourceProvider=this._onDidRemoveRemoteSourceProvider.event;registerRemoteSourceProvider(e){return this.remoteSourceProviders.add(e),this._onDidAddRemoteSourceProvider.fire(e),(0,r.toDisposable)(()=>{this.remoteSourceProviders.delete(e),this._onDidRemoveRemoteSourceProvider.fire(e)})}getRemoteProviders(){return[...this.remoteSourceProviders.values()]}}},815:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GitBaseExtensionImpl=void 0;const o=i(398),r=i(199);t.GitBaseExtensionImpl=class{enabled=!1;_onDidChangeEnablement=new o.EventEmitter;onDidChangeEnablement=this._onDidChangeEnablement.event;_model=void 0;set model(e){this._model=e;const t=!!e;this.enabled!==t&&(this.enabled=t,this._onDidChangeEnablement.fire(this.enabled))}get model(){return this._model}constructor(e){e&&(this.enabled=!0,this._model=e)}getAPI(e){if(!this._model)throw new Error("Git model not found");if(1!==e)throw new Error(`No API version ${e} found.`);return new r.ApiImpl(this._model)}}},937:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.Versions=void 0,t.toDisposable=function(e){return{dispose:e}},t.done=function(e){return e.then(()=>{})},function(e){function t(e,t,i,o){return{major:"string"==typeof e?parseInt(e,10):e,minor:"string"==typeof t?parseInt(t,10):t,patch:null==i?0:"string"==typeof i?parseInt(i,10):i,pre:o}}function i(e){const[i,o]=e.split("-"),[r,n,s]=i.split(".");return t(r,n,s,o)}e.compare=function(e,t){return"string"==typeof e&&(e=i(e)),"string"==typeof t&&(t=i(t)),e.major>t.major?1:e.major<t.major?-1:e.minor>t.minor?1:e.minor<t.minor?-1:e.patch>t.patch?1:e.patch<t.patch?-1:void 0===e.pre&&void 0!==t.pre?1:void 0!==e.pre&&void 0===t.pre?-1:void 0!==e.pre&&void 0!==t.pre?e.pre.localeCompare(t.pre):0},e.from=t,e.fromString=i}(i||(t.Versions=i={}))}},t={};function i(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,i),n.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=function(e){const i=new r.GitBaseExtensionImpl(new n.Model);return e.subscriptions.push((0,t.registerAPICommands)(i)),i};const t=i(199),r=i(815),n=i(672)})();var r=exports;for(var n in o)r[n]=o[n];o.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();
//# sourceMappingURL=https://main.vscode-cdn.net/sourcemaps/03c265b1adee71ac88f833e065f7bb956b60550a/extensions/git-base/dist/extension.js.map